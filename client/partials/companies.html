<nav>
  <div class="orange nav-wrapper">
    <a href="#!/userdashboard" class="brand-logo right">BMN Inventory<span ng-if="CSC.currentUser.admin === 0"><i>Super Admin</i></span><span ng-if="CSC.currentUser.admin === 1"><i>Admin</i></span></a>
    <ul>
      <li><a class="blue" href="#!/add_order">Add Order</a></li>
      <li><a href="#!/userdashboard">Dashboard</a></li>
      <li><a href="#!/inventory">Inventory</a></li>
      <li><a href="#!/orders">Orders</a></li>
      <li><a ng-if="CSC.currentUser.admin !== 2" href='#!/show_users'>Users</a></li>
      <li class="active"><a href="#!/companies">Companies</a></li>
      <li><a class="red" href="#!/" ng-click="CSC.logout()">Logout</a></li>
    </ul>
  </div>
</nav>

<div class="body_wrapper">
<h2 class="center">Companies</h2>


<div class="row">
  <div class="input-field col s12">
    <input id="email" type="text" ng-model="search">
    <label for="email" data-error="wrong" data-success="right">Search Products</label>
  </div>
</div>

<div class="row">
<div class="col s8 offset-s2">
  <div ng-repeat="company in companies " ng-if='company.products.length>0'>
    <p>Company Name: <b>{{company.name}}</b></p>
    <!-- TBD -->
    <!-- <a href="#!/companies/{{company._id}}">View Company</a>   -->
    <p>Email: <b>{{company.email}}</b></p>
    <p>Phone:<b> {{company.phone | tel}}</b></p>
    <p>Address:<b> {{company.address.street}} {{company.address.city}}, {{company.address.state}} {{company.address.zipcode}}</b></p>
    <table class="striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Quantity</th>
          <th>Price</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="product in company.products | filter: {name:search}">
          <td ng-bind="product.name"></td>
          <td ng-bind="product.quantity"></td>
          <td ng-bind="product.sellPrice"></td>
        </tr>
      </tbody>
    </table>
    <hr>
  </div>

</div>
</div>
</div>
